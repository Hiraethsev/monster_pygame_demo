# 口袋妖怪 demo

## 1 项目概要

本项目的灵感源于小时候玩的游戏口袋妖怪游戏，我对其中的基本功能进行了部分还原。本质上是一款像素风 RPG 游戏。在这款游戏中，玩家将扮演一个精灵训练师，在野外捕捉各种精灵，在世界中和遇到的 NPC 切磋战力，积累经验值，不断提升自己的精灵战力，最终目标是打败各个属性宫殿里面的 boss。

本项目的地图来自于 Scarloxy 的相关开源资源，音乐和音效来源网络（音乐是我个人喜欢的，所以没有版权）

## 2 主要功能及实现情况

目前完成的功能主要有世界面板（包含 NPC 互动和各个场景切换），精灵面板，战斗系统

### 2.1 世界面板

玩家可以在世界中自由移动，与场景中其他物体之间会产生碰撞（考虑到不同实体之间不同的属性，碰撞逻辑也并不一样），并可进入不同的建筑进行探索（包括普通房屋，医院，boss 宫殿）玩家在一部分 NPC 视野范围内时，会引发 NPC 注意，与玩家搭话并进行战斗。另一部分 NPC 不会有这个机制，但玩家在遇到时，可以主动上前与他们互动。玩家打败 NPC 后，再与 NPC 互动，不会再次触发战斗，而会触发战败后的 NPC 对话。玩家可以前往医院中，与护士 NPC 交流，可以回满背包里的精灵状态（在玩家战败后，会自动跳转进医院场景）玩家在草丛，沙地等地行走时，有概率遇到野生的精灵，即触发战斗。

### 2.2 精灵面板

按 ENTER 键可以进入精灵属性面板，在这里，可以看到现在玩家拥有的精灵。可以看到相关的精灵的各项状态以及技能。通过 space 键来交换精灵的排序，精灵的排序影响了战斗时出场的精灵（默认前三只先出场）

### 2.3 战斗系统

每个精灵有速度这一项属性，最下方的速度条满（从 0 升到 100）时，可以开始该精灵的回合。在回合中，敌方精灵会对我方精灵进行攻击。我方精灵可以有四个选择，攻击，防御，交换精灵，捕捉对面的精灵。如果打赢对方的精灵我方精灵会获得经验，如果失败会直接传送到医院。

- 攻击：选择技能产生攻击或者恢复的效果（此处精灵可使用的技能取决于等级和现有的能量，即蓝条），攻击结束之后会扣除相应的能量点（能量点根据时间来恢复），选择完技能后，可以选择攻击的对象（标红的名字即为当前选择），space 键进行确认

- 防御：选择防御，可以在下回合敌方攻击时降低受到的伤害
- 交换：可以把在场战斗的精灵用背包中的精灵替换，不过这会消耗掉此回合时间
- 捕捉：在对面血量少于 50%时有概率捕捉，大于 50%时会提示无法进行捕捉（理论上来说应该只对野外的精灵有捕捉选项，但是我这个功能还没实现好，所以这是目前还存在的问题）

### 2.4 战斗系统

在本游戏中，在主页面和战斗两个不同场景中有不同的背景音乐切换，使用技能，NPC 注意到玩家等地方有不同的音效。

本游戏中，有部分地方的精灵显示，背景显示，玩家行走时的显示为帧动画，即按照帧频率以一定速度切换图片形成动画效果。

## 3 项目的运行环境

这个项目使用 python3 请注意在运行之前，务必要安装 pygame-ce 和相关包，否则可能会导致报错
